.. _embedded-mongodb-shell:

=======================================
``mongosh``, the Embedded MongoDB Shell
=======================================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

Starting in version 1.22, |compass| contains an embedded shell,
:binary:`mongosh`. :binary:`mongosh` is a fully functional JavaScript
environment for interacting with MongoDB deployments. You can use
:binary:`mongosh` to test queries and operations directly with your
database.

Open the Embedded ``mongosh``
-----------------------------

To open the embedded :binary:`mongosh`, click :guilabel:`_MONGOSH`
along the bottom of |compass|.

Use the Embedded ``mongosh``
----------------------------

By default, :binary:`mongosh`, connects to the ``test`` database. To
switch to a different database, run the following command in
:binary:`mongosh`:

.. code-block:: sh

   use <database name>

To run an operation in the embedded MongoDB Shell, type the operation
into the shell and press :guilabel:`Enter`.

.. example::

   .. code-block:: sh

      db.employees.find( { "last_name": "Smith" } )

   .. seealso::

      :method:`db.collection.find()`

Multi-Line Operations in the Embedded ``mongosh``
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

To write an operation that spans multiple lines in the embedded
:binary:`mongosh`, begin with the first line, then press
:guilabel:`Shift + Enter` to move to the next line of code.

When you are finished writing your operation, press :guilabel:`Enter`
to run it.

.. example::

   .. code-block:: javascript

      db.employees.aggregate( [              // press Shift + Enter
        { $match: { "last_name": "Smith" } } // press Shift + Enter
      ] )                                    // Press Enter

   .. seealso::

      :pipeline:`$match`

Learn More
~~~~~~~~~~

The following links direct to the
:ref:`MongoDB Shell Documentation <mdb-shell-overview>`, which contains
more a complete reference for the MongoDB Shell, including syntax and
behaviors.

- Learn how to :ref:`Perform CRUD Operations in the MongoDB Shell
  <mdb-shell-crud>`.

- Learn how to :ref:`Run Aggregation Pipelines in the MongoDB Shell
  <mdb-shell-aggregation>`.

- See a complete list of :ref:`Available MongoDB Shell Methods
  <mdb-shell-methods>`.

