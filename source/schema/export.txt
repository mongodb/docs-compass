==================
Export Your Schema
==================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

.. |export-modal| replace:: *Export JSON Schema* modal

You can export your schema after analyzing it. This is useful for 
sharing your schema and comparing schemas across collections.

If you have not already done so, analyze your schema:

1. Select your desired collection and click the :guilabel:`Schema` tab.

#. Click :guilabel:`Analyze Schema`.

.. note::
   When |compass-short| analyzes your schema, it samples a random 
   subset of documents from your collection. To learn more about 
   sampling, see :ref:`Sampling <compass-sampling>`.

Once your schema has been analyzed, export your schema. 

1. Click :guilabel:`Export Schema`.

   .. figure:: /images/compass/export-schema-button.png
      :alt: Image showing Export Schema button`

   The :guilabel:`Export Schema` button appears in the top-left corner
   of the viewport.

#. In the |export-modal|, select the format to export to.

   .. figure:: /images/compass/export-modal.png
      :alt: Image showing Collection dropdown
      :figwidth: 400px
      :width: 400px

You can export your schema to the following formats:

- :ref:`Standard <export-format-standard>` format.
- :ref:`MongoDB <export-format-mongodb>` format.
- :ref:`Expanded <export-format-expanded>` format.

.. _export-format-standard:

Standard Format Schema Object Properties
-----------------------------------------

.. include:: /includes/schema-export-format-standard.rst

.. _export-format-mongodb:

MongoDB Format Schema Object Properties
---------------------------------------

.. include:: /includes/schema-export-format-mongodb.rst

.. _export-format-expanded:

Expanded Format Schema Object Properties
----------------------------------------

.. include:: /includes/schema-export-format-expanded.rst

Example Schema
--------------

The following example uses a collection of 3 documents, each 
with a ``sport`` field and unique information about that sport:
    
.. code-block:: json
   :linenos:
   :copyable: true

   [
     {
       "_id": { "$oid":"5e8359ba7782b98ba98c16fd" },
       "sport": "Baseball",
       "equipment": [ "bat", "baseball", "glove", "helmet" ]
     },
     {
       "_id": { "$oid":"5e835a727782b98ba98c16fe" },
       "sport": "Football",
       "variants": {
           "us":"Soccer",
           "eu":"Football"
       }
     },
     {
       "_id": { "$oid":"5e835ade7782b98ba98c16ff" },
       "sport": "Cricket",
       "origin": "England"
     }
   ]

You can import the above example to |compass| to experiment with schema 
outputs. To import the example collection into |compass|:

1. :guilabel:`Copy` the JSON documents above.

#. In |compass|, select a collection or create a new collection to 
   import the copied documents to. The :guilabel:`Documents` tab 
   displays.

#. Click :guilabel:`Add Data`.

#. Select :guilabel:`Insert Document` from the dropdown.

#. In the JSON view of the dialog, paste the copied documents and click 
   :guilabel:`Insert`.

The example above outputs the following schema:

.. tabs::

   .. tab:: Standard Export Format
      :tabid: standard-export-format
   
      .. include:: /includes/export-output-standard.rst
      
   .. tab:: MongoDB Export Format
      :tabid: mongodb-export-format

      .. include:: /includes/export-output-mongodb.rst

   .. tab:: Expanded Export Format
      :tabid: expanded-export-format

      .. include:: /includes/export-output-expanded.rst
